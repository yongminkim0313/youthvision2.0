<?xml version="1.0" encoding="UTF-8"?>
<mapper namespace="conectLog">  
  <select id="selectConectLog">
    SELECT 
      a.conect_sn, 
      a.conect_dt, 
      a.conect_url, 
      a.menu_nm, 
      a.os_knd, 
      a.os_nm, 
      a.browser_nm, 
      a.ip_adres, 
      a.ref_url,
      a.prmanent_cookie, 
      a.tmpr_cookie, 
      a.kakao_id, 
      b.nickname, 
      b.thumbnail_image_url,
      b.last_login_at
    FROM T_CM_CONECT_LOG a
    LEFT OUTER JOIN T_CM_USER b ON a.KAKAO_ID = b.KAKAO_ID
  </select>

  <insert id="insertConectLog">
  INSERT INTO T_CM_CONECT_LOG (
    conect_url,
    conect_dt,
    menu_nm,
    os_knd,
    os_nm,
    browser_nm,
    ip_adres,
    ref_url,
    prmanent_cookie,
    tmpr_cookie,
    kakao_id
  ) VALUES (
    #{conectUrl},
    #{conectDt},
    #{menuNm},
    #{osKnd},
    #{osNm},
    #{browserNm},
    #{ipAdres},
    #{refUrl},
    #{prmanentCookie},
    #{tmprCookie},
    #{kakaoId}
  )
  </insert>
  
</mapper>